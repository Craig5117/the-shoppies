(this["webpackJsonpThe Shoppies"]=this["webpackJsonpThe Shoppies"]||[]).push([[0],{35:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),i=(n(34),n(35),n(21)),o=n.n(i),l=n(26),m=n(13),j=n(29),d=n(17),u=function(e){return fetch("http://www.omdbapi.com/?apikey=1149e0e0&s=".concat(e,"&r=json"))},b=n(7),h=n(2);var O=function(){var e=Object(b.b)();function t(){return(t=Object(l.a)(o.a.mark((function t(n){var a,c,r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=n.target.querySelector("#search-bar").value.trim()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.prev=4,t.next=7,u(a);case 7:if((c=t.sent).ok){t.next=10;break}throw new Error("something went wrong!");case 10:return t.next=12,c.json();case 12:r=t.sent,s=r.Search.filter((function(e){return"movie"===e.Type})),i=s.map((function(e){return{title:e.Title,year:e.Year,poster:e.Poster}})),e({type:"movies/UPDATE_SEARCHED_TITLE",payload:a}),e({type:"movies/UPDATE_SEARCHED_MOVIES",payload:i}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[4,19]])})))).apply(this,arguments)}return Object(h.jsxs)(j.a,{inline:!0,onSubmit:function(e){return t.apply(this,arguments)},className:"mx-3 mt-3",children:[Object(h.jsx)(m.a,{className:"button btn-general",type:"submit","aria-label":"search",children:Object(h.jsx)("i",{className:"fas fa-search"})}),Object(h.jsx)(d.a,{type:"text",placeholder:"Search",className:"w-auto d-inline align-middle mx-3",id:"search-bar"})]})};n(42);var v=function(){return Object(h.jsxs)("header",{children:[Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("h1",{className:"p-3",children:"The Shoppies"})}),Object(h.jsx)(O,{})]})},p=n(14),x=n(8);n(43);var f=function(e){var t=e.movie,n=Object(b.b)(),c=Object(b.c)((function(e){return e.movies.nominatedMovies}));return Object(a.useEffect)((function(){c.length&&localStorage.setItem("nominations",JSON.stringify(c))}),[c]),Object(h.jsx)(x.a,{md:6,lg:3,className:"p-1",children:Object(h.jsxs)(p.a,{className:"movie-card",children:[Object(h.jsx)("div",{className:"movie-card-image-container",children:Object(h.jsx)(p.a.Img,{className:"movie-card-image",variant:"top",src:t.poster})}),Object(h.jsxs)(p.a.Body,{children:[Object(h.jsx)(p.a.Title,{className:"movie-card-title",children:t.title}),Object(h.jsx)(p.a.Text,{children:t.year}),Object(h.jsx)(m.a,{disabled:null===c||void 0===c?void 0:c.some((function(e){return e.title===t.title})),className:"btn-block btn-general",onClick:function(){return function(e){5!==c.length?n({type:"movies/UPDATE_NOMINATED_MOVIES",payload:e}):alert("You have already nominated 5 movies. Remove a movie from your nominations list before adding another.")}(t)},children:"Nominate"})]})]})})};var N=function(){var e=Object(b.c)((function(e){return e.movies.searchedMovies}));return Object(h.jsx)(x.a,{xs:11,md:6,className:"d-flex flex-wrap",children:e.map((function(e,t){return Object(h.jsx)(f,{movie:e},t)}))})},E=n(27);n(44);var y=function(){var e=Object(b.c)((function(e){return e.movies.nominatedMovies})),t=Object(b.b)();return Object(a.useEffect)((function(){e.length&&localStorage.setItem("nominations",JSON.stringify(e))}),[e]),Object(h.jsx)(x.a,{xs:11,md:6,children:Object(h.jsx)("ul",{children:e.map((function(e,n){return Object(h.jsxs)("li",{className:"mb-3",children:[Object(h.jsx)(m.a,{onClick:function(){return n=e.title,void t({type:"movies/REMOVE_NOMINATED_MOVIE",payload:n});var n},className:"px-1 py-0 mx-1 btn btn-danger",children:"X"}),Object(h.jsx)(E.a,{src:e.poster,thumbnail:!0,className:"align-top mx-2 p-0 nominated-image"}),e.title]},n)}))})})},g=n(23);n(45);var S=function(){var e=Object(b.c)((function(e){return e.movies.nominatedMovies})),t=Object(b.c)((function(e){return e.movies.searchedTitle}));return Object(h.jsxs)("div",{children:[Object(h.jsxs)(g.a,{className:"list-headers mt-3 mx-0",children:[Object(h.jsx)(x.a,{md:6,children:Object(h.jsxs)("h2",{className:"mx-5 search-header",children:["Search Results ",t?'for "'.concat(t,'"'):""]})}),Object(h.jsx)(x.a,{md:6,children:Object(h.jsx)("h2",{className:"mx-5",children:"Your Nominations"})})]}),Object(h.jsx)("div",{className:"banner-container mt-2",children:5===e.length?Object(h.jsx)("p",{className:"text-center banner h-100 py-2",children:"Fantastic! You have made 5 nominations."}):Object(h.jsx)("p",{className:"text-center",children:"Search for movies and select up to 5 of your favorites for nomination to win a Shoppy award"})}),Object(h.jsxs)(g.a,{className:"mt-3 mx-3",children:[Object(h.jsx)(N,{}),Object(h.jsx)(y,{})]})]})};var T=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(v,{}),Object(h.jsx)(S,{})]})},M=n(15),I=n(24),w=n(11),D={searchedTitle:"",searchedMovies:[],nominatedMovies:function(){try{var e=localStorage.getItem("nominations");return null===e?[]:JSON.parse(e)}catch(t){return console.error(t),[]}}()};var _=Object(M.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"movies/UPDATE_SEARCHED_TITLE":return Object(w.a)(Object(w.a)({},e),{},{searchedTitle:t.payload});case"movies/UPDATE_SEARCHED_MOVIES":return Object(w.a)(Object(w.a)({},e),{},{searchedMovies:Object(I.a)(t.payload)});case"movies/UPDATE_NOMINATED_MOVIES":return Object(w.a)(Object(w.a)({},e),{},{nominatedMovies:[].concat(Object(I.a)(e.nominatedMovies),[t.payload])});case"movies/REMOVE_NOMINATED_MOVIE":var n=e.nominatedMovies.filter((function(e){return e.title!==t.payload}));return Object(w.a)(Object(w.a)({},e),{},{nominatedMovies:n});default:return e}}}),A=n(28),k=Object(A.composeWithDevTools)(),R=Object(M.createStore)(_,k);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(b.a,{store:R,children:Object(h.jsx)(T,{})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7573834d.chunk.js.map