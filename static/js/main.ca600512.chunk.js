(this["webpackJsonpThe Shoppies"]=this["webpackJsonpThe Shoppies"]||[]).push([[0],{35:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),i=(n(34),n(35),n(21)),o=n.n(i),l=n(26),m=n(13),j=n(29),d=n(17),u=function(e){return fetch("https://www.omdbapi.com/?apikey=1149e0e0&s=".concat(e,"&r=json"))},b=n(7),h=n.p+"static/media/search_white_24dp.66ea5ec3.svg",O=n(2);var v=function(){var e=Object(b.b)();function t(){return(t=Object(l.a)(o.a.mark((function t(n){var a,c,r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=n.target.querySelector("#search-bar").value.trim()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.prev=4,t.next=7,u(a);case 7:if((c=t.sent).ok){t.next=10;break}throw new Error("something went wrong!");case 10:return t.next=12,c.json();case 12:r=t.sent,s=r.Search.filter((function(e){return"movie"===e.Type})),i=s.map((function(e){return{title:e.Title,year:e.Year,poster:e.Poster}})),e({type:"movies/UPDATE_SEARCHED_TITLE",payload:a}),e({type:"movies/UPDATE_SEARCHED_MOVIES",payload:i}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[4,19]])})))).apply(this,arguments)}return Object(O.jsxs)(j.a,{inline:!0,onSubmit:function(e){return t.apply(this,arguments)},className:"mx-3 mt-3",children:[Object(O.jsx)(m.a,{className:"button btn-general",type:"submit","aria-label":"search",children:Object(O.jsx)("img",{src:h,alt:"search icon"})}),Object(O.jsx)(d.a,{type:"text",placeholder:"Search",className:"w-auto d-inline align-middle mx-3",id:"search-bar"})]})};n(42);var p=function(){return Object(O.jsxs)("header",{children:[Object(O.jsx)("a",{href:"/",children:Object(O.jsx)("h1",{className:"p-3",children:"The Shoppies"})}),Object(O.jsx)(v,{})]})},x=n(14),f=n(8);n(43);var N=function(e){var t=e.movie,n=Object(b.b)(),c=Object(b.c)((function(e){return e.movies.nominatedMovies}));return Object(a.useEffect)((function(){c.length&&localStorage.setItem("nominations",JSON.stringify(c))}),[c]),Object(O.jsx)(f.a,{md:6,lg:3,className:"p-1",children:Object(O.jsxs)(x.a,{className:"movie-card",children:[Object(O.jsx)("div",{className:"movie-card-image-container",children:Object(O.jsx)(x.a.Img,{className:"movie-card-image",variant:"top",src:t.poster})}),Object(O.jsxs)(x.a.Body,{children:[Object(O.jsx)(x.a.Title,{className:"movie-card-title",children:t.title}),Object(O.jsx)(x.a.Text,{children:t.year}),Object(O.jsx)(m.a,{disabled:null===c||void 0===c?void 0:c.some((function(e){return e.title===t.title})),className:"btn-block btn-general",onClick:function(){return function(e){5!==c.length?n({type:"movies/UPDATE_NOMINATED_MOVIES",payload:e}):alert("You have already nominated 5 movies. Remove a movie from your nominations list before adding another.")}(t)},children:"Nominate"})]})]})})};n(44);var E=function(){var e=Object(b.c)((function(e){return e.movies.searchedMovies})),t=Object(b.c)((function(e){return e.movies.searchedTitle}));return Object(O.jsxs)(f.a,{xs:11,md:6,className:"d-flex flex-wrap movie-list",children:[Object(O.jsxs)("h2",{className:"search-header small-screen-header",children:["Search Results ",t?'for "'.concat(t,'"'):""]}),e.map((function(e,t){return Object(O.jsx)(N,{movie:e},t)}))]})},y=n(27);n(45);var g=function(){var e=Object(b.c)((function(e){return e.movies.nominatedMovies})),t=Object(b.b)();return Object(a.useEffect)((function(){e.length&&localStorage.setItem("nominations",JSON.stringify(e))}),[e]),Object(O.jsxs)(f.a,{xs:11,md:6,children:[Object(O.jsx)("h2",{className:"small-screen-header",children:"Your Nominations"}),Object(O.jsx)("ul",{children:e.map((function(e,n){return Object(O.jsxs)("li",{className:"mb-3",children:[Object(O.jsx)(m.a,{onClick:function(){return n=e.title,void t({type:"movies/REMOVE_NOMINATED_MOVIE",payload:n});var n},className:"px-1 py-0 mx-1 btn btn-danger",children:"X"}),Object(O.jsx)(y.a,{src:e.poster,thumbnail:!0,className:"align-top mx-2 p-0 nominated-image"}),e.title]},n)}))})]})},S=n(23);n(46);var T=function(){var e=Object(b.c)((function(e){return e.movies.nominatedMovies})),t=Object(b.c)((function(e){return e.movies.searchedTitle}));return Object(O.jsxs)("div",{children:[Object(O.jsxs)(S.a,{className:"list-headers mt-3 mx-0",children:[Object(O.jsx)(f.a,{md:6,children:Object(O.jsxs)("h2",{className:"mx-5 search-header",children:["Search Results ",t?'for "'.concat(t,'"'):""]})}),Object(O.jsx)(f.a,{md:6,children:Object(O.jsx)("h2",{className:"mx-5",children:"Your Nominations"})})]}),Object(O.jsx)("div",{className:"banner-container mt-2",children:5===e.length?Object(O.jsx)("p",{className:"text-center banner h-100 py-2",children:"Fantastic! You have made 5 nominations."}):Object(O.jsx)("p",{className:"text-center info",children:"Search for movies and select up to 5 of your favorites for nomination to win a Shoppy award"})}),Object(O.jsxs)(S.a,{className:"mt-3 mx-3",children:[Object(O.jsx)(E,{}),Object(O.jsx)(g,{})]})]})};var M=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{}),Object(O.jsx)(T,{})]})},_=n(15),w=n(24),I=n(11),D={searchedTitle:"",searchedMovies:[],nominatedMovies:function(){try{var e=localStorage.getItem("nominations");return null===e?[]:JSON.parse(e)}catch(t){return console.error(t),[]}}()};var A=Object(_.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"movies/UPDATE_SEARCHED_TITLE":return Object(I.a)(Object(I.a)({},e),{},{searchedTitle:t.payload});case"movies/UPDATE_SEARCHED_MOVIES":return Object(I.a)(Object(I.a)({},e),{},{searchedMovies:Object(w.a)(t.payload)});case"movies/UPDATE_NOMINATED_MOVIES":return Object(I.a)(Object(I.a)({},e),{},{nominatedMovies:[].concat(Object(w.a)(e.nominatedMovies),[t.payload])});case"movies/REMOVE_NOMINATED_MOVIE":var n=e.nominatedMovies.filter((function(e){return e.title!==t.payload}));return Object(I.a)(Object(I.a)({},e),{},{nominatedMovies:n});default:return e}}}),k=n(28),R=Object(k.composeWithDevTools)(),V=Object(_.createStore)(A,R);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(b.a,{store:V,children:Object(O.jsx)(M,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ca600512.chunk.js.map